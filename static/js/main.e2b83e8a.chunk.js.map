{"version":3,"sources":["containers/ChartsContainer/chartsContainer.module.css","helpers/parseYearsList.js","hocs/Timer/Timer.js","components/Chart/Chart.js","components/Navigation/Navigation.js","components/Button/Button.js","helpers/constants.js","helpers/getUrlParams.js","containers/ChartsContainer/ChartsContainer.js","helpers/parseChartData.js","App.js","index.js","components/Button/button.module.css","components/Navigation/navigation.module.css"],"names":["module","exports","data","Timer","props","start","timer","setInterval","setState","Date","now","pause","clearInterval","incrementIndex","increment","activeYear","years","length","state","this","paused","nextProps","nextState","prevProps","prevState","children","Component","Chart","labels","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","width","height","options","maintainAspectRatio","scales","yAxes","stacked","gridLines","display","ticks","fontFamily","beginAtZero","min","stepSize","Navigations","links","map","year","key","className","classes","LinksList__elem","LinksList__elem_underlined","to","isActive","oddEvent","LinksList__link","activeClassName","LinksList__link_active","LinksList","Button","type","class","onClick","clickHandler","constants","getUrlParams","location","searchParams","URLSearchParams","search","get","parsedYears","Set","elem","parsedChartData","reduce","res","hasOwnProperty","push","island","pigPopulation","parseChartData","ChartsContainer","setChartQuery","params","yearIndex","indexOf","currentYear","incrementYear","startHandler","stopHandler","ChartsContainer__header","ChartsContainer__title","ChartsContainer__content","interval","ChartsContainer__footer","App","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e2b83e8a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChartsContainer\":\"chartsContainer_ChartsContainer__3O2ZT\",\"ChartsContainer__header\":\"chartsContainer_ChartsContainer__header__1SSdk\",\"ChartsContainer__title\":\"chartsContainer_ChartsContainer__title__6Bhoi\",\"ChartsContainer__content\":\"chartsContainer_ChartsContainer__content__12URa\",\"ChartsContainer__footer\":\"chartsContainer_ChartsContainer__footer__3cCNT\",\"ChartsContainer__link\":\"chartsContainer_ChartsContainer__link__pxwbB\"};","export const parseYearsList = data => [...new Set(data[\"PIG POPULATIONS\"].map(elem => elem.year))];\n","import React, { Component } from 'react';\n\nexport class Timer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstart: 0\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { paused } = this.props;\n\n\t\tif (!paused) {\n\t\t\tthis.start();\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tif (nextProps.paused !== this.props.paused) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (nextState.start !== this.state.start) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (nextProps.activeYear !== this.props.activeYear) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevProps.paused !== this.props.paused) {\n\t\t\tif (this.props.paused) {\n\t\t\t\tthis.pause();\n\t\t\t} else {\n\t\t\t\tthis.start();\n\t\t\t}\n\t\t}\n\n\t\tif (prevState.start !== this.state.start) {\n\t\t\tthis.incrementIndex()\n\t\t}\n\t}\n\n\tstart = () => {\n\t\tthis.timer = setInterval(() => {\n\t\t\tthis.setState({\n\t\t\t\tstart: Date.now()\n\t\t\t});\n\t\t}, 2000);\n\t};\n\n\tpause = () => {\n\t\tclearInterval(this.timer);\n\t};\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.timer);\n\t};\n\n\tincrementIndex = () => {\n\t\tthis.props.increment(this.props.activeYear < this.props.years.length - 1 ? this.props.activeYear + 1 : 0);\n\t};\n\n\trender() {\n\t\treturn this.props.children\n\t}\n}\n","import React from 'react';\nimport {Bar} from 'react-chartjs-2';\n\nexport const Chart = props => {\n\treturn (\n\t\t<div>\n\t\t\t<h2>{props.activeYear} year</h2>\n\t\t\t<Bar\n\t\t\t\tdata={{\n\t\t\t\t\tlabels: props.data[props.activeYear].labels,\n\t\t\t\t\tdatasets: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'populations',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(255,99,132,0.2)',\n\t\t\t\t\t\t\tborderColor: 'rgba(255,99,132,1)',\n\t\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\t\thoverBackgroundColor: 'rgba(255,99,132,0.4)',\n\t\t\t\t\t\t\thoverBorderColor: 'rgba(255,99,132,1)',\n\t\t\t\t\t\t\tdata: props.data[props.activeYear].data\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t\twidth={100}\n\t\t\t\theight={400}\n\t\t\t\toptions={{\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\tscales: {\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tstacked: false,\n\t\t\t\t\t\t\tgridLines: { display: false },\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tfontFamily: \"Nunito Sans\",\n\t\t\t\t\t\t\t\tbeginAtZero:true,\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tstepSize: 500\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport classes from './navigation.module.css';\n\nconst oddEvent = (props, year) => {\n\treturn props.activeYear === year\n};\n\nexport const Navigations = props => {\n\tconst links = props.years.map( year =>\n\t\t<li key={year} className={year <= props.activeYear ? `${classes.LinksList__elem} ${classes.LinksList__elem_underlined}`\n\t\t\t: classes.LinksList__elem}>\n\t\t\t<NavLink\n\t\t\t\tto={`/?paused=true&year=${year}`}\n\t\t\t\tisActive={() => oddEvent(props, year)}\n\t\t\t\tclassName={classes.LinksList__link}\n\t\t\t\tactiveClassName={`${classes.LinksList__link} ${classes.LinksList__link_active}`}\n\t\t\t>{year}</NavLink>\n\t\t</li>\n\t);\n\treturn (\n\t\t<ul className={classes.LinksList}>\n\t\t\t{links}\n\t\t</ul>\n\t)\n};\n","import React from 'react';\n\nimport classes from './button.module.css';\n\nexport const Button = props => {\n\treturn (\n\t\t<button type='button' className={`${classes.Button} ${classes[props.class]}`} onClick={props.clickHandler}>\n\t\t\t{props.children}\n\t\t</button>\n\t)\n};\n","export const constants = {\n\tTIMER_INTERVAL: 2000\n};\n","export const getUrlParams = location => {\n\tconst searchParams = new URLSearchParams(location.search);\n\treturn {\n\t\tpaused: searchParams.get('paused') || '',\n\t\tyear: searchParams.get('year') || ''\n\t};\n}\n","import React, { Component } from 'react';\n\nimport { Timer } from '../../hocs/Timer/Timer';\nimport { Chart } from '../../components/Chart/Chart';\nimport { Navigations } from '../../components/Navigation/Navigation';\nimport { Button } from '../../components/Button/Button';\n\nimport { constants } from '../../helpers/constants';\nimport { parseYearsList } from '../../helpers/parseYearsList';\nimport { parseChartData } from '../../helpers/parseChartData';\nimport { getUrlParams } from '../../helpers/getUrlParams';\n\nimport data from '../../wild-pig-data';\nimport classes from './chartsContainer.module.css';\n\nconst parsedYears =  parseYearsList(data);\nconst parsedChartData = parseChartData(data);\n\nexport class ChartsContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpaused: true,\n\t\t\tyear: 0,\n\t\t\tyears: parsedYears\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tconst {location} = this.props;\n\t\tif (location) {\n\t\t\tconst params = getUrlParams(location);\n\t\t\tthis.setChartQuery(params);\n\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.props.location !== prevProps.location) {\n\t\t\tthis.setChartQuery(getUrlParams(this.props.location));\n\t\t}\n\t}\n\n\tsetChartQuery = params => {\n\t\tconst { paused, year } = params;\n\t\tif (typeof paused === \"boolean\" || year) {\n\t\t\tconst yearIndex = this.state.years.indexOf(+year);\n\t\t\tconst currentYear = yearIndex !== -1 ? yearIndex : 0;\n\t\t\tthis.setState({\n\t\t\t\tpaused: paused == 'true',\n\t\t\t\tyear: currentYear\n\t\t\t})\n\t\t}\n\t};\n\n\tincrementYear = year => {\n\t\tthis.setState({\n\t\t\tyear\n\t\t});\n\t};\n\n\tstartHandler = () => {\n\t\tthis.setState({\n\t\t\tpaused: false\n\t\t})\n\t};\n\n\tstopHandler = () => {\n\t\tthis.setState({\n\t\t\tpaused: true\n\t\t})\n\t};\n\n\trender() {\n\t\tconst { paused, years, year} = this.state;\n\t\treturn (\n\t\t\t<div className={classes.ChartsContainer}>\n\t\t\t\t<header className={classes.ChartsContainer__header}>\n\t\t\t\t\t<h1 className={classes.ChartsContainer__title}>\n\t\t\t\t\t\tHawaiian Pig Visualization\n\t\t\t\t\t</h1>\n\t\t\t\t</header>\n\t\t\t\t<main className={classes.ChartsContainer__content}>\n\t\t\t\t\t<Timer\n\t\t\t\t\t\tpaused={paused}\n\t\t\t\t\t\tincrement={this.incrementYear}\n\t\t\t\t\t\tinterval={constants.TIMER_INTERVAL}\n\t\t\t\t\t\tyears={years}\n\t\t\t\t\t\tactiveYear={year}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Navigations activeYear={years[year]} years={years}/>\n\t\t\t\t\t\t<Chart activeYear={years[year]} data={parsedChartData} />\n\t\t\t\t\t</Timer>\n\t\t\t\t\t<Button class={'start'} clickHandler={this.startHandler}>start</Button>\n\t\t\t\t\t<Button class={'stop'} clickHandler={this.stopHandler}>stop</Button>\n\t\t\t\t</main>\n\t\t\t\t<footer className={classes.ChartsContainer__footer}>\n\t\t\t\t\t&copy; 2019 Test\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t)\n\t}\n}\n","export const parseChartData = data => data[\"PIG POPULATIONS\"].reduce((res, elem) => {\n\tif (!res.hasOwnProperty(elem.year)) {\n\t\tres[elem.year] = {\n\t\t\tlabels: [],\n\t\t\tdata: []\n\t\t};\n\t\tres[elem.year].labels.push(elem.island);\n\t\tres[elem.year].data.push(elem.pigPopulation)\n\t}\n\tres[elem.year].labels.push(elem.island);\n\tres[elem.year].data.push(elem.pigPopulation);\n\treturn res;\n}, {});\n","import React from 'react';\nimport { BrowserRouter as Router, Route} from 'react-router-dom';\nimport {ChartsContainer} from './containers/ChartsContainer/ChartsContainer';\n\nfunction App() {\n\treturn (\n\t\t<Router>\n\t\t\t<Route path=\"/\" component={ChartsContainer} />\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__Hax0N\",\"start\":\"button_start__3a5TP\",\"stop\":\"button_stop__HJscq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LinksList\":\"navigation_LinksList__2lmui\",\"LinksList__elem\":\"navigation_LinksList__elem__1IULx\",\"LinksList__elem_underlined\":\"navigation_LinksList__elem_underlined__3Gqk8\",\"LinksList__link\":\"navigation_LinksList__link__VEIB2\",\"LinksList__link_active\":\"navigation_LinksList__link_active__2D12s\"};"],"sourceRoot":""}